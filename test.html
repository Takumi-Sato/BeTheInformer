<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>密告中テスト</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
</head>
<body>
    <h1>密告中テスト</h1>
    <h2>JSONからデータを受け取って並べてみます</h2>
    <select class="attack_list"></select>

    <ul class="zonbi_pos"></ul>

    <script
  src="https://code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"></script>

    <script type="text/javascript">
    //function receive(){
      //console.log("aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa");
        $.ajax({
          url: "http://192.168.17.136:8887/test.json",
          //type: "post",
          dataType: "json",
          success: function(res){
            //console.log("wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww");
            Attack_List(res);
            Zonbi_List(res);
          },
          error: function(res){
            console.log("ERROR");
          }
        });
    //}
    
      function Attack_List(res) { 
        //console.log(res.attack);
        var data = res.attack;

        for (var i=0; i<data.length;i++){
          var number = data[i];
          var dom = $("<option class='number' value=" + number + ">" + number + "</option>");
          
          //dom.find(".number").text(number);
          $(".attack_list").append(dom);
        }
      }

      function Zonbi_List(res) { 
        //console.log(res.attack);
        var data = res.zonbi;

        for (var i=0; i<data.length;i++){
          var x = data[i].x;
          var y = data[i].y;
          var dom = $("<li>ゾンビの位置"+ i +":(<span class='x' value="+ x +">" + x + ", </span><span class='y' value="+ y +">" + y + "</span>)</li>");
          
          //dom.find(".name").text(name).next(".comment").text();
          //dom.find(".number").text(number);
          $(".zonbi_pos").append(dom);
        }
      }
    </script>
</body>
</html>